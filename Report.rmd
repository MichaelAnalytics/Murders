---
title: "Report on Gun Murders"
author: "Michael Mackie"
date: "`r Sys.Date()`"
output: html_document # can also be pdf_document. Cmd+opt+I for adding chunks
---

## Initial setup, leave this part here. 
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## My introduction

This is some plain text. My report is on gun murders as per the data science course. Data from wikipedia. 

We are going to use the following library:

```{r loading-libs, message=FALSE}
library(tidyverse)
```
  
and load the data we already wrangled:

```{r}
load("rda/murders.rda")
```

## Murder rate by state 

We note the large state to state variability by generating a barplot showing the murder rate by state:

```{r murder-rate-by-state, echo=FALSE}
murders %>% mutate(abb = reorder(abb, rate)) %>%
  ggplot(aes(abb, rate)) +
  geom_bar(width = 0.5, stat = "identity", color = "black") +
  coord_flip()
```

## More notes

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot. If I change it to true we get the following:

```{r murder-rate-by-state2, echo=TRUE}
murders %>% mutate(abb = reorder(abb, rate)) %>%
  ggplot(aes(abb, rate)) +
  geom_bar(width = 0.5, stat = "identity", color = "black") +
  coord_flip()
```

Note that I had to rename what this piece of code was called in the first {r} line. Any questions please ask Michael :)
